/**!
 * KEditor - Kademi content editor
 * @copyright: Kademi (http://kademi.co)
 * @author: Kademi (http://kademi.co)
 * @version: 0.0.0
 * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap (optional), FontAwesome (optional)
 */
!function(n){var t=n.keditor,o=t.log;t.components.thumbnail={init:function(n,t,e,i){o('init "thumbnail" component',e);var a=i.options,c=e.children(".keditor-component-content"),r=c.find(".caption");r.addClass("clearfix");var d=r.find(".caption-inner");0===d.length&&(r.html('<div class="caption-inner">'+r.html()+"</div>"),d=r.find(".caption-inner")),d.attr("id")||d.attr("id",i.generateId("component-text-content-inner")),d.prop("contenteditable",!0),d.on("input",function(o){"function"==typeof a.onComponentChanged&&a.onComponentChanged.call(i,o,e,n),"function"==typeof a.onContainerChanged&&a.onContainerChanged.call(i,o,t,n),"function"==typeof a.onContentChanged&&a.onContentChanged.call(i,o,n)});var m=d.ckeditor(a.ckeditorOptions).editor;m.on("instanceReady",function(){o("CKEditor is ready",e),"function"==typeof a.onComponentReady&&a.onComponentReady.call(n,e,m)})},getContent:function(n,t){o('getContent "thumbnail" component',n);var e=n.find(".keditor-component-content"),i=e.find(".caption"),a=i.find(".caption-inner"),c=a.attr("id"),r=CKEDITOR.instances[c];return r&&i.html(r.getData()),e.html()},destroy:function(n,t){o('destroy "text" component',n);var e=n.find(".caption-inner").attr("id"),i=CKEDITOR.instances[e];i&&i.destroy()},settingEnabled:!0,settingTitle:"Thumbnail Settings",initSettingForm:function(t,e){return o('initSettingForm "thumbnail" component'),n.ajax({url:"/theme/apps/keditor-lib/componentThumbnailSettings.html",type:"get",dataType:"HTML",success:function(n){t.html(n),initMSelectImage(t.find(".photo-edit"),e,function(n,t,o,i){var a=e.getSettingComponent().find(".thumbnail img");a.attr("src","/_hashes/files/"+i)})}})},showSettingForm:function(n,t,e){o('showSettingForm "thumbnail" component',t)}}}(jQuery);
//# sourceMappingURL=keditor-component-thumbnail-0.0.0.min.js.map
