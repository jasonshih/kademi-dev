<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Commit History</title>
        <link href="manageRepos.css" rel="stylesheet" type="text/css" />
        <link href="/static/history/jquery.history.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="/static/history/jquery.history.js">//</script>
        <script type="text/javascript" src="/static/js/jquery.timeago.js">//</script>
	    <script type="text/javascript" src="commits.js">//</script>
	    <link href="commits.css" rel="stylesheet" type="text/css" />
    </head>
    <body class="manage-repo-history">
        <p class="well">
	        <a class="close" role="button" href="#" data-dismiss="alert">&times;</a>
	        Here is a list of changes made to this branch. You can restore the branch to the state of any of the commits below by clicking the Restore icon. The current state wont be lost, it will
	        just become the previous version. <br /><b>Click on the commit number to view the branch in that state without restoring it.</b>
        </p>

        <div class="panel panel-default">
	        <div class="panel-heading">
		        <i class="fa fa-cloud-upload"></i>
		        Commits
	        </div>
	        <div class="panel-body">
		        <div class="clearfix">
			        <p class="pull-left btn-set-hash-wrapper"><a href="./" class="btn btn-sm btn-danger btn-set-hash pull-left">Set hash</a></p> <h4><small>(You can update the hash directly)</small></h4>
		        </div>
		        <div class="table-responsive">
			        <table class="table table-striped table-hover">
				        <colgroup>
					        <col />
					        <col />
					        <col />
					        <col />
					        <col style="width: 70px" />
				        </colgroup>
				        <thead>
					        <tr>
						        <th>Link</th>
						        <th>Hash</th>
						        <th>User</th>
						        <th>Edited</th>
						        <th class="action">Restore</th>
					        </tr>
				        </thead>
				        <tbody>
					        #foreach($c in $page.commits)
						        <tr>
							        <td>$c.link</td>
							        <td>$c.commit.itemHash</td>
							        <td>$c.commit.editor.name</td>
							        <td><abbr title="$formatter.formatDateISO8601($c.commit.createdDate)" class="info timeago">$c.commit.createdDate</abbr></td>
							        <td class="action"><button class="btn btn-sm btn-success btn-restore-repo" title="Restore this version" rel="$c.commit.itemHash"><i class="fa fa-undo"></i></button></td>
						        </tr>
					        #end
				        </tbody>
			        </table>
		        </div>
	        </div>
        </div>
        <script type="text/javascript">
	        Bob.onDOMReady(function () {
		        initManageRepoHistory();
	        });
        </script>
    </body>
</html>